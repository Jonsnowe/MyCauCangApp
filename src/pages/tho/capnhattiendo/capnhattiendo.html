<ion-header>
  <ion-navbar color="secondary">
    <button ion-button menuToggle icon-only>
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-title>
      Cập nhật tiến độ
    </ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form [formGroup]="capnhatForm" (ngSubmit)="submitForm()">
    <ion-item>
      <ion-label floating >Xe <Span class="required">*</Span></ion-label>
      <ion-select formControlName="xe">
        <ion-option *ngFor="let xe of xecansuas" value="{{xe.idxe}}">[{{xe.loaixe}}] {{xe.bienso}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-item>
      <p>Thông tin hỗ trợ:</p>
      <p>Bla bla bla</p>
    </ion-item>
    <ion-item> 
      <button ion-button col-6 (click)="takePhoto()">
        Chụp ảnh
      </button>
      <p floating>Ảnh (Chỉ được xóa trong vòng 24h)</p>
      <ion-grid>
        <ion-row>
          <ion-col col-6 *ngFor="let photo of photos; let id=index">
            <ion-card class="block">
              <img [src]="photo" *ngIf="photo" />
              <button type="button" class="btn btn-success" (click)="deletePhoto(id)">Xóa</button>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
    <ion-item>
      <p>Tiến độ <Span class="required">*</Span></p>
      <input type="number" col-6 max="10" formControlName="tiendo" />
      <span>%</span>
      <p>Ghi chú:</p>
      <textarea formControlName="ghichu"></textarea>
    </ion-item>
    <button class="custom-green" block ion-button type="submit"  [disabled]="!capnhatForm.valid" ion-text>Xác nhận</button>
  </form>
</ion-content>